# python-certificate-maker

Class, command-line utility, and pytest fixture for generating x509 certificates (self-signed and CSR)

| **Beta state: interface may experience breaking changes** |
|-----------------------------------------------------------|


```python
import pycert_maker

# Make a self-signed certificate for localhost
cert = pycert_maker.Certificate(
                   'localhost',
                   loc="Minneapolis/Minnesota/US",
                   org="Application Testing Group@My Company, Inc.",
                   email="myemail@mydomain.tld")

# Save the certificate and key files to disk
with open('certificate.pem', 'wb') as cf:
    cf.write(cert.certificate())

with open('privatekey.pem', 'wb') as kf:
    kf.write(cert.private_key()

# Write private key encrypted to a passphrase with AES-256-CBC
with open('encryptedprivatekey.pem', 'wb') as ekf:
    ekf.write(
        cert.private_key(
            b'you should really choose a better passphrase'
        )
    )

```

## A note on SAN (Subject Alternate Name)

It has _technically_ been required since 2000 for all certificates to have a valid SAN field where the first entry matches the CN. Most browsers don't care in practice, and so SAN was previously entirely optional in this tool. But Chrome has recently started to care, and so SAN can no longer be treated as optional

All certs generated by this too have a SAN field now

The main interface doesn't ask you to care about SANs, you can just provide a list of valid hostnames to the constructor and the correct SAN will be created for you. 